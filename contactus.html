<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>اتصل بنا</title>
  
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css"
  />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  
  <style>
    /* Base styles */
    body {
      background-color: #121212;
      color: #eee;
      font-family: 'Tajawal', sans-serif;
      margin: 0;
      padding: 0;
      text-align: right;
    }

    /* Contact Section */
    .contact_us {
      background-color: #121212;
      padding: 120px 0;
    }

    .contact_inner {
      background-color: #1b4242;
      position: relative;
      box-shadow: 0 0 20px rgba(79, 189, 186, 0.7);
      border-radius: 25px;
      color: #eee;
    }

    .contact_field {
      padding: 60px 100px 90px 100px;
    }

    /* Titles */
    .contact_field h3 {
      color: #cdeed6;
      font-size: 40px;
      letter-spacing: 1px;
      font-weight: 700;
      margin-bottom: 10px;
      text-align: right;
    }

    .contact_field p {
      color: #cdeed6cc;
      font-size: 14px;
      font-weight: 400;
      letter-spacing: 1px;
      margin-bottom: 35px;
      text-align: right;
    }

    /* Inputs */
    .contact_field .form-control {
      border-radius: 0;
      border: none;
      border-bottom: 1px solid #4fbdbaff;
      background-color: transparent;
      color: #eee;
      font-size: 14px;
      letter-spacing: 1px;
      text-align: right;
      direction: rtl;
    }

    .contact_field .form-control::placeholder {
      color: #a0d5d3cc;
      font-size: 13px;
      letter-spacing: 1px;
      text-align: right;
    }

    input[name="phone"]::placeholder {
      text-align: right;
    }

    .contact_field .form-control:focus {
      box-shadow: none;
      outline: none;
      border-bottom: 2px solid #4fbdbaff;
      background-color: transparent;
      color: #eee;
    }

    /* Button */
    button.contact_form_submit {
      background: linear-gradient(to top right, #0f2121, #4fbdbaff);
      border: none;
      color: #fff;
      padding: 12px 15px;
      width: 100%;
      margin-top: 25px;
      border-radius: 35px;
      cursor: pointer;
      font-size: 14px;
      letter-spacing: 2px;
      transition: background 0.3s ease;
    }
    button.contact_form_submit:hover {
      background: linear-gradient(to top right, #4fbdbaff, #0f2121);
    }

    /* Radio buttons */
    .user-type-selection {
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 10px;
      background-color: rgba(79, 189, 186, 0.1);
      text-align: right;
    }
    
    .user-type-selection label {
      margin-left: 20px;
      margin-right: 5px;
      color: #cdeed6;
      cursor: pointer;
    }
    
    .user-type-selection input[type="radio"] {
      margin-left: 5px;
    }

    /* Welcome message */
    .welcome-message {
      background-color: rgba(79, 189, 186, 0.2);
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      color: #cdeed6;
      display: none;
      text-align: right;
    }

    /* Success message */
    .success-message {
      background-color: #4fbdba;
      box-shadow: 0 0 10px #3aa89e;
      color: #fff;
      padding: 15px 20px;
      border-radius: 10px;
      margin-top: 15px;
      font-weight: 600;
      text-align: center;
      display: none;
    }

    /* Contact info box */
    .contact_info_sec {
      position: absolute;
      background: linear-gradient(to top right, #0f2121, #4fbdbaff);
      left: 0;
      top: 18%;
      height: 220px;
      width: 340px;
      padding: 40px;
      border-radius: 0 25px 25px 0;
      color: #eee;
      box-shadow: 0 0 15px #4fbdbaff;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      gap: 25px;
      text-align: right;
    }

    .contact_info_sec h4 {
      letter-spacing: 1px;
      padding-bottom: 5px;
      color: #fff;
      font-weight: 700;
      margin: 0;
    }

    .info_single {
      display: flex;
      align-items: center;
      flex-direction: row-reverse;
      gap: 15px;
      font-size: 14px;
      color: #fff;
    }

    .info_single i {
      font-size: 20px;
      color: #fff;
      min-width: 25px;
      text-align: center;
    }

    /* Map Section */
    .map_sec {
      padding: 50px 0;
      background-color: #121212;
      color: #eee;
    }

    .map_inner h4 {
      color: #cdeed6;
      text-align: center;
      font-weight: 700;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }
    
    .map_inner p {
      font-size: 15px;
      max-width: 600px;
      margin: 0 auto 20px auto;
      color: #a0d5d3cc;
      text-align: center;
      letter-spacing: 0.5px;
    }

    .map_bind {
      margin-top: 10px;
      border-radius: 30px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(79, 189, 186, 0.6);
      border: 2px solid #4fbdbaff;
    }

    /* Location dropdown */
    .location-select {
      margin-bottom: 15px;
      text-align: right;
    }
    
    .location-select select {
      background-color: transparent;
      color: #eee;
      border: 1px solid #4fbdbaff;
      border-radius: 5px;
      padding: 8px;
      width: 100%;
      text-align: right;
      direction: rtl;
    }
    
    .location-select select:focus {
      outline: none;
      border-color: #4fbdbaff;
      box-shadow: 0 0 5px rgba(79, 189, 186, 0.5);
    }

    /* Responsive Adjustments */
    @media (max-width: 991px) {
      .contact_field {
        padding: 40px 30px 60px 30px;
      }

      .contact_info_sec {
        position: static;
        width: 100%;
        height: auto;
        margin-top: 30px;
        border-radius: 25px;
        padding: 25px 20px;
      }
    }
  </style>
</head>
<body>

  <section class="contact_us">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-10">
          <div class="contact_inner">
            <div class="row">
              <div class="col-md-10">
                <div class="contact_form_inner">
                  <div class="contact_field">
                    <h3>اتصل بنا</h3>
                    <p>لا تتردد في الاتصال بنا في أي وقت. سنرد عليك في أقرب وقت ممكن!</p>

                    <div class="user-type-selection">
                      <label>
                        <input type="radio" name="userTypeRadio" value="local" checked>
                        أنا من مواليد بقرزلا
                      </label>
                      <label>
                        <input type="radio" name="userTypeRadio" value="visitor">
                        أنا لست من بقرزلا
                      </label>
                    </div>
                    
                    <div id="localMessage" class="welcome-message">
                      أهلاً بإبن الضيعة! كيف بقدر ساعدك؟
                    </div>
                    
                    <div id="visitorMessage" class="welcome-message">
                      شرف لنا أن تكون مهتم بموقعنا! نحن مهتمون جداً لمساعدتك والإستماع لك.
                    </div>

                    <!-- نموذج Web3Forms -->
                    <form id="contactForm" action="https://api.web3forms.com/submit" method="POST" novalidate>

                      <input type="hidden" name="access_key" value="f1253620-0c45-487e-82c7-e33e20fca823" />
                      <input type="hidden" name="subject" value="رسالة جديدة من نموذج الاتصال" />
                      <input type="checkbox" name="botcheck" style="display:none" />
                      <input type="hidden" id="userTypeInput" name="userType" value="local" />

                      <div id="localForm">
                        <input type="text" name="fullName" class="form-control form-group" placeholder="الاسم الكامل" required />
                        <input type="text" name="recordNumber" class="form-control form-group" placeholder="رقم السجل (اختياري)" />
                        <input type="tel" name="phone" class="form-control form-group" placeholder="رقم الهاتف" required />
                        <input type="email" name="email" class="form-control form-group" placeholder="البريد الإلكتروني" required />
                        <textarea name="message" class="form-control form-group" rows="5" placeholder="اكتب ما تريده" required></textarea>
                      </div>
                      
                      <div id="visitorForm" style="display: none;">
                        <input type="text" name="fullName" class="form-control form-group" placeholder="الاسم الكامل" required />
                        <input type="tel" name="phone" class="form-control form-group" placeholder="رقم الهاتف" required />
                        <input type="email" name="email" class="form-control form-group" placeholder="البريد الإلكتروني" required />
                        <div class="location-select">
                          <select name="location" id="lebanonLocation" required>
                            <option value="" selected disabled>اختر منطقتك</option>
                            <option value="akkar">عكار</option>
                            <option value="tripoli">طرابلس</option>
                            <option value="beirut">بيروت</option>
                            <option value="mount-lebanon">جبل لبنان</option>
                            <option value="south">الجنوب</option>
                            <option value="nabatieh">النبطية</option>
                            <option value="bekaa">البقاع</option>
                            <option value="baalbek">بعلبك</option>
                            <option value="other">منطقة أخرى</option>
                          </select>
                        </div>
                        <textarea name="message" class="form-control form-group" rows="5" placeholder="الرسالة" required></textarea>
                      </div>

                      <button type="submit" class="contact_form_submit">إرسال</button>

                      <div id="formSuccess" class="success-message">تم استلام رسالتك بنجاح، شكرًا لتواصلك معنا.</div>

                    </form>
                    <!-- نهاية نموذج Web3Forms -->

                  </div>
                </div>
              </div>
            </div>

            <div class="contact_info_sec">
              <h4>معلومات الاتصال</h4>
              <div class="info_single">
                <i class="fas fa-comments"></i>
                <span><a href="#" style="color:#fff; text-decoration:none;">الدردشة المباشرة</a></span>
              </div>
              <div class="info_single">
                <i class="fas fa-envelope-open-text"></i>
                <span><a href="#" style="color:#fff; text-decoration:none;"> bqerzalaonline@gmail.com</a></span>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="map_sec">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-10">
          <div class="map_inner">
            <h4>ابحث عنا على خرائط جوجل</h4>
            <p> بقرزلا - عكار</p>
            <div class="map_bind">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10753.372729443832!2d36.05705995!3d34.51162065!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1522237ae840a425%3A0xd33e2e4d65260420!2z2KjZg9ix2LLYp9mE2Kc!5e1!3m2!1sar!2slb!4v1753072025969!5m2!1sar!2slb"
                width="100%"
                height="450"
                frameborder="0"
                style="border: 0"
                allowfullscreen=""
                aria-hidden="false"
                tabindex="0"
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const localRadio = document.querySelector('input[name="userTypeRadio"][value="local"]');
      const visitorRadio = document.querySelector('input[name="userTypeRadio"][value="visitor"]');
      const localForm = document.getElementById('localForm');
      const visitorForm = document.getElementById('visitorForm');
      const localMessage = document.getElementById('localMessage');
      const visitorMessage = document.getElementById('visitorMessage');
      const userTypeInput = document.getElementById('userTypeInput');
      const formSuccess = document.getElementById('formSuccess');
      const contactForm = document.getElementById('contactForm');

      function toggleFormFields(form, enable) {
        const inputs = form.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
          input.disabled = !enable;
        });
      }

      function showLocal() {
        localForm.style.display = 'block';
        visitorForm.style.display = 'none';
        localMessage.style.display = 'block';
        visitorMessage.style.display = 'none';
        userTypeInput.value = "local";
        toggleFormFields(localForm, true);
        toggleFormFields(visitorForm, false);
      }
      function showVisitor() {
        localForm.style.display = 'none';
        visitorForm.style.display = 'block';
        localMessage.style.display = 'none';
        visitorMessage.style.display = 'block';
        userTypeInput.value = "visitor";
        toggleFormFields(localForm, false);
        toggleFormFields(visitorForm, true);
      }

      localRadio.addEventListener('change', () => {
        if(localRadio.checked) showLocal();
      });
      
      visitorRadio.addEventListener('change', () => {
        if(visitorRadio.checked) showVisitor();
      });
      
      // العرض الافتراضي هو النموذج المحلي
      showLocal();

      // التعامل مع اختيار "منطقة أخرى"
      document.getElementById('lebanonLocation').addEventListener('change', function() {
        if(this.value === 'other') {
          const otherLocation = prompt("الرجاء إدخال اسم منطقتك:");
          if(otherLocation) {
            const newOption = document.createElement('option');
            newOption.value = otherLocation.toLowerCase().replace(/\s+/g, '-');
            newOption.textContent = otherLocation;
            this.appendChild(newOption);
            this.value = newOption.value;
          } else {
            this.value = "";
          }
        }
      });

      // معالجة ارسال النموذج عبر fetch وعرض رسالة النجاح أسفل زر الإرسال مع تأخير إعادة التوجيه
      contactForm.addEventListener('submit', function(e) {
        e.preventDefault();

        formSuccess.style.display = 'none'; // إخفاء الرسالة قبل إرسال جديد

        const formData = new FormData(contactForm);

        fetch(contactForm.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json',
          }
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            formSuccess.style.display = 'block';
            contactForm.reset();
            showLocal();
            formSuccess.scrollIntoView({ behavior: 'smooth' });

            // إعادة التوجيه بعد 3 ثواني
            setTimeout(() => {
              window.location.href = "index.html";
            }, 3000);

          } else {
            alert('حدث خطأ أثناء إرسال النموذج، الرجاء المحاولة مرة أخرى.');
          }
        })
        .catch(() => {
          alert('حدث خطأ في الاتصال، تأكد من اتصال الإنترنت وحاول مرة أخرى.');
        });
      });

    });
  </script>

  <!--Start of Tawk.to Script-->
  <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
      var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
      s1.async=true;
      s1.src='https://embed.tawk.to/687db1a05d615919175d8226/1j0lfrnej';
      s1.charset='UTF-8';
      s1.setAttribute('crossorigin','*');
      s0.parentNode.insertBefore(s1,s0);
    })();
  </script>
  <!--End of Tawk.to Script-->

</body>
</html>
